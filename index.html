
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>Developer Level Project: Tic Tac Toe</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link href="css/bootstrap.theme.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/tictactoe.css" rel="stylesheet">
  </head>

  <body>

    <div class="container">

      <!-- Jumbotron -->
      <div class="jumbotron top">
        <h1>Tic Tac Toe! <small>Welcome to the Developer Level Tic Tac Toe Challenge!</small></h1>
        <p class="lead">You will be using this rough page layout to build a functional Tic Tac Toe game entirely in javascript. You don't have to keep any of this page, but since the assignment focusses on the javascript implementation, the layout has been created for you so you can focus on the functionality.</p>
      </div>
      <div class="alert alert-success" id="winText" style="display:none;">
          <span></span> wins this game!
          <button class="btn btn-success" id="btnReset">Reset</button>
      </div>
      <!-- Tic Tac Toe Board -->
      <div class="row">
        <div class="col col-tictactoe">
            <button type="button" class="btn btn-default btn-block btn-tictactoe"></button>
        </div>
        <div class="col col-tictactoe">
            <button type="button" class="btn btn-default btn-block btn-tictactoe"></button>
        </div>
        <div class="col col-tictactoe right">
            <button type="button" class="btn btn-default btn-block btn-tictactoe"></button>
        </div>
        <div class="w-100"></div>
        <div class="col col-tictactoe">
            <button type="button" class="btn btn-default btn-block btn-tictactoe"></button>
        </div>
        <div class="col col-tictactoe">
            <button type="button" class="btn btn-default btn-block btn-tictactoe"></button>
        </div>
        <div class="col col-tictactoe right">
            <button type="button" class="btn btn-default btn-block btn-tictactoe"></button>
        </div>
        <div class="w-100"></div>
        <div class="col col-tictactoe bottom">
            <button type="button" class="btn btn-default btn-block btn-tictactoe"></button>
        </div>
        <div class="col col-tictactoe bottom">
            <button type="button" class="btn btn-default btn-block btn-tictactoe"></button>
        </div>
        <div class="col col-tictactoe bottom right">
            <button type="button" class="btn btn-default btn-block btn-tictactoe"></button>
        </div>
      </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.2.1.min.js"><\/script>')</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script>window.Popper || document.write('<script src="js/vendor/popper.min.js"><\/script>')</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script>if((typeof $().modal != 'function')) { document.write('<script src="js/vendor/bootstrap.min.js"><\/script>'); }</script>
    <script>
        var clickCount = 0;
        $('#btnReset').click(function () {
            $('div.col-tictactoe button').removeClass('btn-success btn-danger disabled').addClass('btn-default').html("");
            $("#winText").hide();
            clickCount = 0;
        });
        $('div.col-tictactoe button').click(function (event) {
            if(!$(this).hasClass('btn-default') || $(this).hasClass('disabled')) { return; }
            if(clickCount % 2 == 0) {
                $(this).removeClass('btn-default').addClass('btn-success').html("X");
            } else {
                $(this).removeClass('btn-default').addClass('btn-danger').html("O");
            }
            if(clickCount >= 4) {
                var winner = getWinner();
                if(winner) {
                    $('div.col-tictactoe button').addClass('disabled');
                    $('#winText span').html(winner);
                    $('#winText').show();
                }
            }
            clickCount++;
        });
        function getWinner() {
            var btns = $('div.col-tictactoe button');
            for(var i = 0; i < 6; i++) {
                if(i == 4) { i = 6; }
                var me = btns[i].innerHTML;
                if(me == "") { continue; }
                if(i == 0 && me == btns[i+4].innerHTML && me == btns[i+8].innerHTML) { console.log("1"); return me; }
                if(i % 3 == 0 && (me == btns[i+1].innerHTML && me == btns[i+2].innerHTML)) { console.log("2"); return me; }
                if(i <= 3 && me == btns[i+3].innerHTML && me == btns[i+6].innerHTML) { console.log("3"); return me; }
                if(i % 3 == 2 && me == btns[i+2].innerHTML && me == btns[i+4].innerHTML) { console.log("4"); return me; }
            }
            return false;
        }
    </script>
  </body>
</html>
